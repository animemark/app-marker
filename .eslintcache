[{"/opt/w/app-marker/src/index.js":"1","/opt/w/app-marker/src/entry/discuss.PostList.js":"2","/opt/w/app-marker/src/entry/marking.EditMark.js":"3","/opt/w/app-marker/src/entry/marking.MarkList.js":"4","/opt/w/app-marker/src/reportWebVitals.js":"5","/opt/w/app-marker/src/redux/store.js":"6","/opt/w/app-marker/src/elements/discuss.PostList/AppContainer.js":"7","/opt/w/app-marker/src/App.jsx":"8","/opt/w/app-marker/src/redux/index.js":"9","/opt/w/app-marker/src/elements/discuss.PostList/LayoutMainer.js":"10","/opt/w/app-marker/src/confs.js":"11","/opt/w/app-marker/src/elements/discuss.PostList/LayoutHeader.js":"12","/opt/w/app-marker/src/elements/discuss.PostList/LayoutFooter.js":"13","/opt/w/app-marker/src/elements/common/Clock.js":"14","/opt/w/app-marker/src/redux/clock.slicer.js":"15","/opt/w/app-marker/src/redux/users.slicer.js":"16","/opt/w/app-marker/src/redux/discuss.thunks.js":"17","/opt/w/app-marker/src/redux/networks.js":"18","/opt/w/app-marker/src/redux/marking.thunks.js":"19","/opt/w/app-marker/src/redux/discuss.slicer.js":"20","/opt/w/app-marker/src/redux/marking.slicer.js":"21","/opt/w/app-marker/src/elements/discuss.PostList/PostForm.js":"22","/opt/w/app-marker/src/elements/discuss.PostList/PostList.js":"23","/opt/w/app-marker/src/elements/discuss.PostList/SortByBar.js":"24","/opt/w/app-marker/src/elements/common/EditArea.js":"25","/opt/w/app-marker/src/elements/discuss.PostList/PostItem.js":"26","/opt/w/app-marker/src/elements/common/TimeAgo.js":"27","/opt/w/app-marker/src/elements/discuss.PostList/LikeAndHate.js":"28","/opt/w/app-marker/src/elements/marking.EditMark/AppContainer.js":"29","/opt/w/app-marker/src/elements/marking.EditMark/Mainer.js":"30","/opt/w/app-marker/src/elements/marking.EditMark/MarkShow.js":"31","/opt/w/app-marker/src/elements/marking.EditMark/MarkForm.js":"32","/opt/w/app-marker/src/elements/marking.MarkList/AppContainer.js":"33","/opt/w/app-marker/src/redux/ssconfs.slicer.js":"34","/opt/w/app-marker/src/elements/marking.MarkList/MarkList.jsx":"35","/opt/w/app-marker/src/elements/marking.MarkList/MarkItem.js":"36","/opt/w/app-marker/src/elements/marking.MarkList/LikeAndHate.jsx":"37","/opt/w/app-marker/src/elements/common/RateStars.js":"38","/opt/w/app-marker/src/elements/common/EditToolBar.js":"39","/opt/w/app-marker/src/elements/common/EditErrors.js":"40","/opt/w/app-marker/src/funcs/index.js":"41","/opt/w/app-marker/src/funcs/common.func.js":"42","/opt/w/app-marker/src/elements/marking.MarkList/LayoutMainer.js":"43","/opt/w/app-marker/src/elements/marking.MarkList/LayoutHeader.js":"44","/opt/w/app-marker/src/elements/marking.MarkList/LayoutFooter.js":"45","/opt/w/app-marker/src/elements/marking.MarkList/SortByBar.jsx":"46","/opt/w/app-marker/src/elements/marking.MarkList/RelaTitle.js":"47"},{"size":647,"mtime":1613224807778,"results":"48","hashOfConfig":"49"},{"size":705,"mtime":1613220166856,"results":"50","hashOfConfig":"49"},{"size":705,"mtime":1613283380228,"results":"51","hashOfConfig":"49"},{"size":705,"mtime":1613293928345,"results":"52","hashOfConfig":"49"},{"size":362,"mtime":1611233713847,"results":"53","hashOfConfig":"49"},{"size":160,"mtime":1613227199246,"results":"54","hashOfConfig":"49"},{"size":2447,"mtime":1613405610188,"results":"55","hashOfConfig":"49"},{"size":103,"mtime":1613224831646,"results":"56","hashOfConfig":"49"},{"size":1062,"mtime":1613295358110,"results":"57","hashOfConfig":"49"},{"size":898,"mtime":1613224206237,"results":"58","hashOfConfig":"49"},{"size":1471,"mtime":1613527062559,"results":"59","hashOfConfig":"49"},{"size":277,"mtime":1613229158112,"results":"60","hashOfConfig":"49"},{"size":277,"mtime":1613224209766,"results":"61","hashOfConfig":"49"},{"size":819,"mtime":1613284142734,"results":"62","hashOfConfig":"49"},{"size":1141,"mtime":1613298587546,"results":"63","hashOfConfig":"49"},{"size":1027,"mtime":1613283882732,"results":"64","hashOfConfig":"49"},{"size":1032,"mtime":1612679261309,"results":"65","hashOfConfig":"49"},{"size":2557,"mtime":1613290821280,"results":"66","hashOfConfig":"49"},{"size":1632,"mtime":1613291569106,"results":"67","hashOfConfig":"49"},{"size":7666,"mtime":1613320440939,"results":"68","hashOfConfig":"49"},{"size":6231,"mtime":1613450727801,"results":"69","hashOfConfig":"49"},{"size":3232,"mtime":1613319690770,"results":"70","hashOfConfig":"49"},{"size":6173,"mtime":1613228571091,"results":"71","hashOfConfig":"49"},{"size":1548,"mtime":1613224578650,"results":"72","hashOfConfig":"49"},{"size":971,"mtime":1613308727055,"results":"73","hashOfConfig":"49"},{"size":4432,"mtime":1613458165201,"results":"74","hashOfConfig":"49"},{"size":966,"mtime":1613224194370,"results":"75","hashOfConfig":"49"},{"size":2593,"mtime":1613325076684,"results":"76","hashOfConfig":"49"},{"size":1728,"mtime":1613534706483,"results":"77","hashOfConfig":"49"},{"size":673,"mtime":1613323332486,"results":"78","hashOfConfig":"49"},{"size":2927,"mtime":1613405002437,"results":"79","hashOfConfig":"49"},{"size":4983,"mtime":1613404932410,"results":"80","hashOfConfig":"49"},{"size":1866,"mtime":1613448002958,"results":"81","hashOfConfig":"49"},{"size":974,"mtime":1613405138514,"results":"82","hashOfConfig":"49"},{"size":2673,"mtime":1613449434112,"results":"83","hashOfConfig":"49"},{"size":2282,"mtime":1613456994874,"results":"84","hashOfConfig":"49"},{"size":2593,"mtime":1613325069121,"results":"85","hashOfConfig":"49"},{"size":1031,"mtime":1613304854224,"results":"86","hashOfConfig":"49"},{"size":3219,"mtime":1613306649431,"results":"87","hashOfConfig":"49"},{"size":779,"mtime":1613306470384,"results":"88","hashOfConfig":"49"},{"size":87,"mtime":1613309545011,"results":"89","hashOfConfig":"49"},{"size":1358,"mtime":1613536063415,"results":"90","hashOfConfig":"49"},{"size":438,"mtime":1613448867928,"results":"91","hashOfConfig":"49"},{"size":277,"mtime":1613324657502,"results":"92","hashOfConfig":"49"},{"size":277,"mtime":1613324657454,"results":"93","hashOfConfig":"49"},{"size":1623,"mtime":1613449424087,"results":"94","hashOfConfig":"49"},{"size":714,"mtime":1613453418193,"results":"95","hashOfConfig":"49"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},"1j0wm6b",{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"118","usedDeprecatedRules":"98"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"98"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"98"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"98"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"147","usedDeprecatedRules":"98"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"98"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"98"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"161","usedDeprecatedRules":"98"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"98"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"167"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"170","usedDeprecatedRules":"98"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"173"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"176"},{"filePath":"177","messages":"178","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"179"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"182","messages":"183","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"184"},{"filePath":"185","messages":"186","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"187"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"190","usedDeprecatedRules":"98"},{"filePath":"191","messages":"192","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"98"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"196","usedDeprecatedRules":"98"},{"filePath":"197","messages":"198","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"98"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"203","messages":"204","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"205"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"98"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"98"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"212"},{"filePath":"213","messages":"214","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"215"},"/opt/w/app-marker/src/index.js",[],["216","217"],"/opt/w/app-marker/src/entry/discuss.PostList.js",[],"/opt/w/app-marker/src/entry/marking.EditMark.js",[],"/opt/w/app-marker/src/entry/marking.MarkList.js",[],"/opt/w/app-marker/src/reportWebVitals.js",[],"/opt/w/app-marker/src/redux/store.js",[],"/opt/w/app-marker/src/elements/discuss.PostList/AppContainer.js",["218"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from '../../confs';\nimport Clock from \"../common/Clock\";\nimport LayoutHeader from \"./LayoutHeader\";\nimport LayoutMainer from \"./LayoutMainer\";\nimport LayoutFooter from \"./LayoutFooter\";\n\nfunction Rooter() {\n\n  const dispatch = useDispatch();\n  const { listAt, postTo, badges, sortBy, inited } = useSelector(state => state.discuss);\n\n  useEffect(() => {\n    if (listAt === false) {\n      const pars = window.get_url_params();\n      const pval = pars.list || pars.listAt || '';\n      dispatch(Redux.actions.discuss.set_listAt(pval));\n    }\n  });\n\n  useEffect(() => {\n    if (postTo === false) {\n      const pars = window.get_url_params();\n      const pval = pars.post || pars.postTo || pars.list || pars.listAt || '';\n      dispatch(Redux.actions.discuss.set_postTo(pval));\n    }\n  });\n\n  useEffect(() => {\n    if (badges === false) {\n      const pars = window.get_url_params();\n      const pval = pars.badges || '';\n      const parr = String(pval).split(',').map(v => v.trim()).filter(v => v);\n      dispatch(Redux.actions.discuss.set_badges(parr));\n    }\n  });\n\n  useEffect(() => {\n    if (sortBy === false) {\n      let type = window.localStorage.getItem(Confs.localStorageKeys.discuss_sortBy);\n      type = Confs.discuss.sortTypes[type] ? type : Confs.discuss.sortByDefault;\n      dispatch(Redux.actions.discuss.set_sortBy(type));\n    }\n  });\n\n  useEffect(() => {\n    if (listAt && sortBy) {\n      if (inited === 'initial') {\n        firstLoad();\n      }\n    }\n  });\n\n  const firstLoad = () => {\n    const data = {\n      listAt,\n      sortBy,\n      prevOid: null,\n      prevPos: null,\n    };\n    dispatch(Redux.thunks.discuss.loadList(data));\n  };\n\n  if (!listAt || !postTo || !sortBy || badges === false || ['initial', 'pending'].includes(inited)) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center\">\n        <i className=\"fas fa-2x fa-circle-notch fa-spin\"></i>\n      </div>\n    );\n  }\n\n  if (inited === 'failure') {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center cursor-pointer\" onClick={firstLoad}>\n        <i className=\"fas fa-2x fa-sync-alt\"></i>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <LayoutHeader />\n      <LayoutMainer />\n      <LayoutFooter />\n      <Clock />\n    </>\n  );\n}\n\nexport default Rooter;\n","/opt/w/app-marker/src/App.jsx",[],"/opt/w/app-marker/src/redux/index.js",[],"/opt/w/app-marker/src/elements/discuss.PostList/LayoutMainer.js",["219","220"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nimport PostList from \"./PostList\";\nimport PostForm from \"./PostForm\";\nimport SortByBar from \"./SortByBar\";\n\nfunction Mainer() {\n\n  const dispatch = useDispatch();\n  const { listAt, postTo } = useSelector(state => state.discuss);\n  const formVal = useSelector(state => state.discuss.formKvs[postTo]);\n  const isFormInited = formVal ? true : false;\n\n  useEffect(() => {\n    if (!isFormInited) {\n      dispatch(Redux.actions.discuss.init_form(postTo));\n    }\n  });\n\n  return (\n    <div className=\"Mainer\">\n      <div className=\"w-100\">\n        {(isFormInited) &&\n          <PostForm postTo={postTo} />\n        }\n        <SortByBar />\n        <PostList listAt={listAt} />\n      </div>\n    </div>\n  );\n}\n\nexport default Mainer;\n","/opt/w/app-marker/src/confs.js",[],"/opt/w/app-marker/src/elements/discuss.PostList/LayoutHeader.js",["221","222","223","224","225","226"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction Header() {\n  return (\n    <header className=\"header\"></header>\n  );\n}\n\nexport default Header;","/opt/w/app-marker/src/elements/discuss.PostList/LayoutFooter.js",["227","228","229","230","231","232"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\"></footer>\n  );\n}\n\nexport default Footer;","/opt/w/app-marker/src/elements/common/Clock.js",["233"],"// eslint-disable-next-line\nimport React, { useState, useEffect } from 'react';\n// eslint-disable-next-line\nimport { useSelector, useDispatch } from 'react-redux';\n// eslint-disable-next-line\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction Clock() {\n\n  const dispatch = useDispatch();\n  //const { systemTime } = useSelector(state => state.clock);\n  const { clientTime } = useSelector(state => state.clock);\n  \n  useEffect(() => {\n    const timer = setTimeout(function () {\n      const timeDiff = (new Date()).getTime() - clientTime;\n      dispatch(Redux.actions.clock.fix_systemTime(timeDiff));\n    }, 1000 * 5);\n    return () => clearTimeout(timer);\n  });\n\n  return null;\n\n  \n  // return (\n  //   <div className=\"d-none\">\n  //     {systemTime}\n  //   </div>\n  // );\n}\n\nexport default Clock;","/opt/w/app-marker/src/redux/clock.slicer.js",[],"/opt/w/app-marker/src/redux/users.slicer.js",[],"/opt/w/app-marker/src/redux/discuss.thunks.js",[],"/opt/w/app-marker/src/redux/networks.js",[],"/opt/w/app-marker/src/redux/marking.thunks.js",[],"/opt/w/app-marker/src/redux/discuss.slicer.js",[],"/opt/w/app-marker/src/redux/marking.slicer.js",["234","235","236"],"import { createSlice } from '@reduxjs/toolkit';\nimport { myMark, loadList, upsertMark, deleteMark } from './marking.thunks';\nimport Confs from '../confs';\nexport default createSlice({\n  name: 'marking',\n  initialState: {\n\n    // shared\n    /**\n     * params got from the url\n     * define the what the app will be\n     */\n    params: false,\n\n    /**\n     * first ajax load status\n     * initial\n     * pending\n     * success\n     * failure\n     */\n    status: 'initial',\n\n    // EditMark\n    pageKey: false,\n    editing: false,\n    deleing: false,\n    markDoc: false,\n    formObj: Confs.marking.default_formObj(),\n\n    // MarkList\n    pageKeys: false,\n    sortBy: Confs.marking.sortByDefault,\n    badges: false,\n    markKvs: {},\n    markLis: Confs.marking.default_markLis(),\n    pageDoc: false,\n    relaKvs: {},\n    voteKvs: {},\n  },\n  reducers: {\n    // base\n    set_params(state, action) {\n      state.params = action.payload;\n    },\n    set_status(state, action) {\n      state.status = action.payload;\n    },\n\n\n    set_pageKey(state, action) {\n      state.pageKey = action.payload;\n    },\n\n    // form\n    set_editing(state, action) {\n      state.editing = action.payload;\n    },\n    set_deleing(state, action) {\n      state.deleing = action.payload;\n    },\n    set_form_errorNo(state, action) {\n      const errorNo = action.payload;\n      state.formObj.errorNo = errorNo;\n    },\n    set_form_posting(state, action) {\n      const posting = action.payload;\n      state.formObj.posting = posting;\n    },\n    set_form_martus(state, action) {\n      const martus = action.payload;\n      state.formObj.martus = martus;\n    },\n    set_form_score(state, action) {\n      const score = action.payload;\n      state.formObj.score = score;\n    },\n    set_form_comment(state, action) {\n      const comment = action.payload;\n      state.formObj.comment = comment || '';\n    },\n\n    // mark list\n    set_badges(state, action) {\n      state.badges = action.payload;\n    },\n    set_sortBy(state, action) {\n      const sortBy = action.payload;\n      state.sortBy = sortBy;\n      //window.localStorage.setItem(Confs.localStorageKeys.marking_sortBy, sortBy);\n      state.markLis = Confs.marking.default_markLis();\n    },\n\n    // vote post\n    set_voteKvs(state, action) {\n      let { markOid, voteVal } = action.payload;\n      if ([0, 1, 2].includes(voteVal)) {\n        state.voteKvs[markOid] = voteVal;\n      }\n    },\n    inc_mark_LikeAndHate(state, action) {\n      const { markOid, incLike, incHate } = action.payload;\n      if (state.markKvs[markOid]) {\n        state.markKvs[markOid].countLike += incLike;\n        state.markKvs[markOid].countHate += incHate;\n      }\n    },\n\n  },\n  extraReducers: {\n\n    // myMark edit\n    [myMark.pending]: (state, action) => {\n      state.status = 'pending';\n    },\n    [myMark.fulfilled]: (state, action) => {\n      const { error, eno, res } = action.payload;\n\n      if (error || eno) {\n        state.status = 'failure';\n        return;\n      }\n\n      const { markDoc } = res;\n      state.markDoc = markDoc;\n\n      if (markDoc) {\n        Object.assign(state.formObj, {\n          martus: markDoc.martus,\n          score: markDoc.score,\n          comment: markDoc.comment || '',\n        });\n      }\n      state.status = 'success';\n    },\n    [myMark.rejected]: (state, action) => {\n      state.status = 'failure';\n    },\n\n    // upsertMark\n    [upsertMark.pending]: (state, action) => {\n      state.formObj.posting = true;\n    },\n    [upsertMark.fulfilled]: (state, action) => {\n      const { error, eno, res } = action.payload;\n\n      if (error || eno) {\n        state.formObj.errorNo = eno || Confs.eno.unknownError;\n        state.formObj.posting = false;\n        return;\n      }\n\n      const { newMarkDoc } = res;\n      state.markDoc = newMarkDoc;\n      Object.assign(state.formObj, {\n        martus: newMarkDoc.martus,\n        score: newMarkDoc.score,\n        comment: newMarkDoc.comment || '',\n      });\n\n      state.formObj.posting = false;\n      state.editing = false;\n    },\n    [upsertMark.rejected]: (state, action) => {\n      state.formObj.errorNo = Confs.eno.unknownError;\n      state.formObj.posting = false;\n    },\n\n    // deleteMark\n    [deleteMark.pending]: (state, action) => {\n      state.deleing = true;\n    },\n    [deleteMark.fulfilled]: (state, action) => {\n      const { error, eno, res } = action.payload;\n\n      state.markDoc = null;\n      state.formObj = Confs.marking.default_formObj();\n\n      state.deleing = false;\n    },\n    [deleteMark.rejected]: (state, action) => {\n      state.deleing = false;\n    },\n\n    // loadList\n    [loadList.pending]: (state, action) => {\n      const { sortBy } = action.meta.arg;\n      if (sortBy !== state.sortBy) {\n        return;\n      }\n      state.markLis.loadStatus = 'pending';\n\n      // prevent second time init\n      if (['initial', 'failure'].includes(state.status)) {\n        state.status = 'pending';\n      }\n    },\n    [loadList.fulfilled]: (state, action) => {\n      const { sortBy } = action.meta.arg;\n      if (sortBy !== state.sortBy) {\n        return;\n      }\n      const { error, eno, res } = action.payload;\n      if (error || eno) {\n        state.markLis.loadStatus = 'failure';\n        return;\n      }\n      const { markLis, prevOid, prevPos, isLast, voteKvs, relaKvs } = res;\n\n      if (voteKvs) {\n        Object.assign(state.voteKvs, voteKvs);\n      }\n      if (relaKvs) {\n        Object.assign(state.relaKvs, relaKvs);\n      }\n\n      for (const row of markLis) {\n        const markOid = row._id;\n        state.markKvs[markOid] = row;\n        if (state.markLis.markOids.includes(markOid) === false) {\n          state.markLis.markOids.push(markOid);\n        }\n      }\n      state.markLis.prevOid = prevOid;\n      state.markLis.prevPos = prevPos;\n      state.markLis.isLast = isLast;\n      state.markLis.loadStatus = isLast ? 'no_more' : 'success';\n\n      if (state.status === 'pending') {\n        state.status = 'success';\n      }\n    },\n    [loadList.rejected]: (state, action) => {\n      const { sortBy } = action.meta.arg;\n      if (sortBy !== state.sortBy) {\n        return;\n      }\n      state.markLis.loadStatus = 'failure';\n\n      if (state.status === 'pending') {\n        state.status = 'failure';\n      }\n    },\n\n  },\n});","/opt/w/app-marker/src/elements/discuss.PostList/PostForm.js",["237","238"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nimport EditArea from \"../common/EditArea\";\nimport EditToolBar from \"../common/EditToolBar\";\n\nfunction PostForm(props) {\n  const { postTo } = props;\n\n  const editAreaDomId = `EditArea_${postTo}`;\n\n  const dispatch = useDispatch();\n  const { userIid, userKvs } = useSelector((state) => state.users);\n  const userDoc = userKvs[userIid];\n\n  const formVal = useSelector((state) => state.discuss.formKvs[postTo]);\n\n  const { posting, message, errorNo } = formVal;\n  const hasContent = message.length ? true : false;\n\n  const onClick_submit = function () {\n    if (!hasContent) {\n      dispatch(\n        Redux.actions.discuss.set_form_errorNo({ postTo, errorNo: 1001 })\n      );\n      return;\n    }\n    const data = {\n      postTo,\n      message,\n    };\n    dispatch(Redux.thunks.discuss.createPost(data));\n  };\n\n  const onChange_EditArea = function (text) {\n    dispatch(Redux.actions.discuss.set_form_message({ postTo, message: text }));\n    if (errorNo) {\n      dispatch(Redux.actions.discuss.set_form_errorNo({ postTo, errorNo: 0 }));\n    }\n    window.resizeFrameHeight();\n  };\n\n  const SubmitButton = () => {\n    if (posting) {\n      return (\n        <button className=\"ms-auto btn btn-sm btn-primary submit\" disabled>\n          <i className=\"fas fa-circle-notch fa-spin\"></i>\n        </button>\n      );\n    }\n    if (userDoc) {\n      return (\n        <button\n          className=\"ms-auto btn btn-sm btn-primary submit\"\n          disabled={!hasContent}\n          onClick={onClick_submit}\n        >\n          POST\n        </button>\n      );\n    }\n    return (\n      <button className=\"ms-auto btn btn-sm btn-secondary submit\" disabled>\n        Login First\n      </button>\n    );\n  };\n\n  const EditError = () => {\n    if (!errorNo) return null;\n    switch (errorNo) {\n      case 1001:\n        return (\n          <div className=\"alert alert-danger error\">\n            Comments can't be blank.\n          </div>\n        );\n      case Confs.eno.LoginRequired:\n        return (\n          <div className=\"alert alert-danger error\">\n            It looks like you have not logged in yet?\n          </div>\n        );\n      default:\n        return (\n          <div className=\"alert alert-danger error\">\n            Unknown error, please try again.\n          </div>\n        );\n    }\n  };\n\n  if (userIid === false) {\n    return null;\n  }\n\n  if (!userIid) {\n    return (\n      <div className=\"discuss-form\">\n        <div className=\"info\">You need to log in to comment.</div>\n      </div>\n    );\n  }\n\n  // if (userIid !== 1) {\n  //   return (\n  //     <div className=\"discuss-form\">\n  //       <div className=\"info\">\n  //         Under maintenance, stop posting new comments for a few minutes.\n  //       </div>\n  //     </div>\n  //   );\n  // }\n\n  return (\n    <div className=\"discuss-form\">\n      <div className=\"editor\">\n        <EditArea domId={editAreaDomId} innerText={message} onChange={onChange_EditArea} />\n        <EditError />\n        <EditToolBar editAreaDomId={editAreaDomId} SubmitButton={SubmitButton} />\n      </div>\n    </div>\n  );\n}\nexport default PostForm;\n","/opt/w/app-marker/src/elements/discuss.PostList/PostList.js",[],"/opt/w/app-marker/src/elements/discuss.PostList/SortByBar.js",["239","240"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction SortByBar() {\n\n  const dispatch = useDispatch();\n\n  const { pageDoc, sortBy } = useSelector(state => state.discuss);\n\n  const PageInfoDom = () => {\n    if (!pageDoc) {\n      return (\n        <span></span>\n      );\n    }\n    const unit_t = pageDoc.countChild > 1 ? 'topics' : 'topic';\n    const unit_p = pageDoc.countReply > 1 ? 'posts' : 'post';\n    return (\n      <div>\n        <span>{pageDoc.countChild} {unit_t}</span>\n        <span className=\"ms-2\">{pageDoc.countReply} {unit_p}</span>\n      </div>\n    );\n  };\n\n  const onClick_sortBy = (type) => {\n    dispatch(Redux.actions.discuss.set_sortBy(type));\n  };\n\n  const SortBtnDom = (props) => {\n    const { type } = props;\n    const type_to_text = Confs.discuss.sortTypes;\n    if (type === sortBy) {\n      return (\n        <button type=\"button\" className=\"btn btn-sm btn-link ml-2 cursor-normal\">{type_to_text[type]}</button>\n      );\n    }\n    return (\n      <button type=\"button\" className=\"btn btn-sm btn-link ml-2 text-decoration-none text-muted\" onClick={() => onClick_sortBy(type)}>{type_to_text[type]}</button>\n    );\n  };\n\n  return (\n    <div className=\"mt-3 d-flex justify-content-between align-items-center\">\n      <PageInfoDom />\n      <div>\n        <SortBtnDom type=\"hot\" />\n        <SortBtnDom type=\"new\" />\n        <SortBtnDom type=\"old\" />\n      </div>\n    </div>\n  );\n}\n\nexport default SortByBar;","/opt/w/app-marker/src/elements/common/EditArea.js",["241","242","243","244","245"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction EditArea(props) {\n  const { domId, innerText, onChange, css } = props;\n\n  const [inited, set_inited] = useState(0);\n\n  useEffect(() => {\n    // set innerText only one time\n    if (!inited) {\n      document.getElementById(domId).innerText = innerText;\n      set_inited(1);\n    }\n  }, [inited, innerText]);\n\n  const handleKeyEvent = (event) => {\n    const innerText = event?.target?.innerText ? String(event.target.innerText).trim() : '';\n    onChange(innerText);\n  };\n\n  return (\n    <div\n      id={domId}\n      className={`EditArea ${css}`}\n      contentEditable=\"plaintext-only\"\n      suppressContentEditableWarning\n\n      onInput={handleKeyEvent}\n      onBlur={handleKeyEvent}\n      onKeyUp={handleKeyEvent}\n      onKeyDown={handleKeyEvent}\n    ></div>\n  );\n}\n\nexport default EditArea;","/opt/w/app-marker/src/elements/discuss.PostList/PostItem.js",["246"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\nimport Funcs from \"../../funcs\";\n\nimport TimeAgo from \"../common/TimeAgo\";\n\nimport PostForm from \"./PostForm\";\nimport PostList from \"./PostList\";\n\nimport LikeAndHate from \"./LikeAndHate\";\n\n\nfunction PostItem(props) {\n  const { postOid } = props;\n  const listAt = postOid;\n  const postTo = postOid;\n  const dispatch = useDispatch();\n  const { userIid, userKvs } = useSelector(state => state.users);\n  const { badges, relaKvs, postKvs } = useSelector(state => state.discuss);\n\n  const formVal = useSelector(state => state.discuss.formKvs[postTo]);\n  const isFormInited = formVal ? true : false;\n  const isFormShowing = formVal?.showing;\n\n  const postDoc = postKvs?.[postOid];\n  const postDepth = postDoc?.depth;\n\n  const reachMaxDepth = postDepth >= Confs.discuss.maxDepth ? true : false;\n\n  const poerIid = postDoc?.userIid;\n  const poerDoc = userKvs?.[poerIid];\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  const toggle_showFormStatus = () => {\n    if (!isFormInited) {\n      dispatch(Redux.actions.discuss.init_form(postTo));\n      return;\n    }\n    dispatch(Redux.actions.discuss.set_form_showing({\n      postTo,\n      showing: !isFormShowing,\n    }));\n    return;\n  };\n\n  const ReplyBtnDom = () => {\n    if (reachMaxDepth || !userIid) return null;\n    return (\n      <button\n        className={`ms-3 btn btn-sm ${isFormShowing ? 'btn-secondary' : 'btn-link'} text-decoration-none cursor-pointer`}\n        onClick={() => toggle_showFormStatus()}>\n        Reply\n      </button>\n    )\n  }\n\n  const BadgesDom = () => {\n    if (postDepth > 1) {\n      return null;\n    }\n    if (!badges?.length) {\n      return null;\n    }\n    if (!postDoc?.pageKeys?.length) {\n      return null;\n    }\n\n    const myBadges = {};\n    badges.forEach(v => myBadges[v] = null);\n\n    for (const pageKey of postDoc.pageKeys) {\n      const badge = String(pageKey).substr(0, 4);\n      if (myBadges[badge] !== null) continue;\n      if (!relaKvs[pageKey]) continue;\n      myBadges[badge] = pageKey;\n    }\n\n    const DomArr = [];\n    for (const [badge, pageKey] of Object.entries(myBadges)) {\n      if (!pageKey) continue;\n      const relaDoc = relaKvs[pageKey];\n      switch (badge) {\n        case 'btsu':\n          DomArr.push(\n            <a key={pageKey} className=\"btn btn-sm btn-outline-info\" href={relaDoc._https_btoto} target=\"_blank\" rel=\"noreferrer\">{relaDoc.info.title}</a>\n          );\n          break;\n        case 'btep':\n          DomArr.push(\n            <a key={pageKey} className=\"btn btn-sm btn-outline-info\" href={relaDoc._https_btoto} target=\"_blank\" rel=\"noreferrer\">{relaDoc._short}</a>\n          );\n          break;\n        default:\n          break;\n      }\n    }\n\n    if (!DomArr.length) {\n      return null;\n    }\n\n    return (\n      <div className=\"mt-2 discuss-badges\">\n        {DomArr}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"discuss-item lv1\">\n      \n      <div className=\"d-flex justify-content-start align-items-center discuss-head\">\n        <a href={poerDoc._https_btoto} target=\"_blank\" rel=\"noreferrer\">\n          <img className=\"avatar\" src={poerDoc._https_avatar} alt=\"\" />\n        </a>\n        <div className=\"ms-2\">\n          <div>\n            <a href={poerDoc._https_btoto} target=\"_blank\" rel='noreferrer'>\n              {poerDoc.info.name}\n            </a>\n          </div>\n          <TimeAgo time={postDoc.dateCreate} css=\"d-inline small text-muted\" />\n        </div>\n        <div className=\"ms-auto\">\n          <i className=\"d-none fas fa-ellipsis-v text-muted\"></i>\n        </div>\n      </div>\n\n      <BadgesDom />\n\n      <div className=\"mt-2\">\n        <div className=\"limit-html\" dangerouslySetInnerHTML={{ __html: Funcs.common.format_limit_html(postDoc._message_in_html) }}></div>\n      </div>\n\n      <div className=\"mt-2 d-flex align-items-center small text-muted\">\n        <LikeAndHate postOid={postOid} />\n        <ReplyBtnDom />\n      </div>\n\n      { isFormInited &&\n        <div className={`mt-2 discuss-indent ${isFormShowing ? '' : 'd-none'}`}>\n          <PostForm postTo={postTo} />\n        </div>\n      }\n      { (reachMaxDepth === false) &&\n        <div className=\"mt-2 discuss-subs\">\n          <PostList listAt={listAt} />\n        </div>\n      }\n      \n    </div>\n  );\n}\n\nexport default PostItem;\n","/opt/w/app-marker/src/elements/common/TimeAgo.js",["247","248","249","250","251","252"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction TimeAgo(props) {\n  const { time: targetTime, css } = props;\n  const { systemTime, clientTime } = useSelector(state => state.clock);\n  const str = clac(targetTime, systemTime);\n  return (\n    <time className={css}>{str}</time>\n  );\n}\n\nexport default TimeAgo;\n\nfunction clac(targetTime, systemTime) {\n\n  const a = (new Date(targetTime)).getTime() / 1000;\n  const b = systemTime / 1000;\n  const d = Math.round(b - a);\n\n  if (d < 60) {\n    return `Just now`;\n    //return `${d} secs ago`;\n  }\n\n  // in 1 hour\n  if (d < 3600) {\n    return `${Math.ceil(d / 60)} mins ago`;\n  }\n\n  // in 2 hours\n  if (d < 3600 * 2) {\n    return `1 hour ago`;\n  }\n\n  // in 100 hours\n  if (d < 3600 * 100) {\n    return `${Math.floor(d / 3600)} hours ago`;\n  }\n\n  return `${Math.floor(d / 86400)} days ago`;\n}","/opt/w/app-marker/src/elements/discuss.PostList/LikeAndHate.js",["253"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction LikeAndHate(props) {\n  const { postOid } = props;\n\n  const [isVoteing, set_isVoteing] = useState(0);\n\n  const dispatch = useDispatch();\n  const { postKvs, voteKvs } = useSelector((state) => state.discuss);\n  const postDoc = postKvs?.[postOid];\n  const voteVal = voteKvs?.[postOid];\n\n  const meLiked = voteVal === 1 ? true : false;\n  const meHated = voteVal === 2 ? true : false;\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  const onClick_vote = (type) => {\n    let voteVal = 0;\n    if (type === 'like' && meLiked === false) {\n      voteVal = 1;\n    }\n    if (type === 'hate' && meHated === false) {\n      voteVal = 2;\n    }\n\n    const data = {\n      postOid,\n      voteVal,\n    };\n    set_isVoteing(1);\n    Redux.networks.discuss_votePost(data)\n      .then((resp) => resp.json())\n      .then((json) => {\n\n        const {\n          postOid,\n          voteVal,\n          incLike,\n          incHate,\n        } = json.res;\n\n        dispatch(Redux.actions.discuss.set_voteKvs({\n          postOid,\n          voteVal,\n        }));\n\n        dispatch(Redux.actions.discuss.inc_post_LikeAndHate({\n          postOid,\n          incLike,\n          incHate,\n        }));\n\n        set_isVoteing(0);\n      })\n      .catch((err) => {\n        console.log(err);\n        set_isVoteing(0);\n      });\n  };\n\n  const LikeBtnDom = () => {\n    return (\n      <span className={`cursor-pointer ${meLiked ? 'text-success' : ''}`} onClick={() => onClick_vote('like')}>\n        { postDoc.countLike > 0 &&\n          <small className=\"me-1 d-inline-block\">{postDoc.countLike}</small>\n        }\n        <i className=\"fas fa-chevron-up\"></i>\n      </span>\n    );\n  };\n\n  const HateBtnDom = () => {\n    return (\n      <span className={`cursor-pointer ${meHated ? 'text-danger' : ''}`} onClick={() => onClick_vote('hate')}>\n        <i className=\"fas fa-chevron-down\"></i>\n        { postDoc.countHate > 0 &&\n          <small className=\"ms-1 d-inline-block\">{postDoc.countHate}</small>\n        }\n      </span>\n    );\n  };\n\n  const LikeAndHateBtnsDom = () => {\n    if (isVoteing) {\n      return (<i className=\"fas fa-circle-notch fa-spin\"></i>);\n    }\n    return (\n      <>\n        <LikeBtnDom />\n        <small className=\"mx-2\">|</small>\n        <HateBtnDom />\n      </>\n    );\n  };\n\n  return (\n    <div className=\"d-flex align-items-center discuss-vote\">\n      <LikeAndHateBtnsDom />\n    </div>\n  );\n}\n\nexport default LikeAndHate;","/opt/w/app-marker/src/elements/marking.EditMark/AppContainer.js",["254","255"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from '../../confs';\nimport Clock from \"../common/Clock\";\n\nimport Mainer from \"./Mainer\";\n\nfunction Rooter() {\n\n  const dispatch = useDispatch();\n  const { params, status, pageKey} = useSelector(state => state.marking);\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  useEffect(() => {\n    if (params === false) {\n      const params = window.get_url_params();\n      if(!params.pageKey){\n        // we can't go next if without payKey\n        dispatch(Redux.actions.marking.set_params(null));\n        return;\n      }\n      dispatch(Redux.actions.marking.set_pageKey(params.pageKey));\n      dispatch(Redux.actions.marking.set_params(params));\n    }\n  });\n  \n  useEffect(() => {\n    if (params) {\n      if (status === 'initial') {\n        firstLoad();\n      }\n    }\n  });\n\n  const firstLoad = () => {\n    const date = {\n      pageKey\n    };\n    dispatch(Redux.thunks.marking.myMark(date));\n  };\n\n  switch (status) {\n    case 'initial':\n    case 'pending':\n      // loading icon\n      return (\n        <div className=\"d-flex justify-content-center align-items-center\">\n          <i className=\"fas fa-2x fa-circle-notch fa-spin\"></i>\n        </div>\n      );\n\n    case 'failure':\n      // refresh icon\n      return (\n        <div className=\"d-flex justify-content-center align-items-center cursor-pointer\" onClick={firstLoad}>\n          <i className=\"fas fa-2x fa-sync-alt\"></i>\n        </div>\n      );\n\n    case 'success':\n    default:\n      // nothing to do\n      break;\n  }\n\n  return (\n    <>\n      <Mainer />\n      <Clock />\n    </>\n  );\n}\n\nexport default Rooter;\n","/opt/w/app-marker/src/elements/marking.EditMark/Mainer.js",["256","257","258","259"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nimport MarkForm from \"./MarkForm\";\nimport MarkShow from \"./MarkShow\";\n\nfunction Mainer() {\n\n  const dispatch = useDispatch();\n\n  const { editing } = useSelector(state => state.marking);\n  \n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  return (\n    <div className=\"Mainer\">\n      <div className=\"w-100\">\n        {editing === true &&\n          <MarkForm />\n        }\n        {editing === false &&\n          <MarkShow />\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default Mainer;\n","/opt/w/app-marker/src/elements/marking.EditMark/MarkShow.js",["260"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from '../../redux';\nimport Confs from \"../../confs\";\nimport Funcs from \"../../funcs\";\n\nconst _confs = window._ssconfs;\n\nfunction MarkShow() {\n\n  const [deleConfirm, set_deleConfirm] = useState(0);\n\n  const dispatch = useDispatch();\n  const { markDoc, deleing } = useSelector((state) => state.marking);\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  useEffect(() => {\n    if (deleConfirm) {\n      const timer = setTimeout(() => {\n        set_deleConfirm(deleConfirm - 1);\n      }, 1000);\n      return () => {\n        clearTimeout(timer);\n      };\n    }\n  });\n\n  const onClick_edit = () => {\n    dispatch(Redux.actions.marking.set_editing(true));\n  };\n\n  const onClick_deleOpen = () => {\n    set_deleConfirm(5);\n  };\n\n  const onClick_deleExec = () => {\n    const data = {\n      markOid: markDoc._id,\n    };\n    dispatch(Redux.thunks.marking.deleteMark(data));\n  };\n\n  if (!markDoc) {\n    return (\n      <div className=\"marking-show\">\n        <div className=\"d-grid\">\n          <button className=\"btn btn-sm btn-outline-success\" type=\"button\" onClick={onClick_edit}>I want to Mark</button>\n        </div>\n      </div>\n    );\n  }\n\n  const { martus, score, _comment_in_html, _docKind } = markDoc;\n\n  const _confs_martus = _confs.marking.martus[_docKind];\n  const _confs_scores = _confs.marking.scores;\n\n  const EditBtnDom = () => {\n    if (deleing) {\n      return (\n        <div>\n          <button type=\"button\" className=\"btn btn-sm btn-outline-danger\" disabled>\n            <i className=\"fas fa-circle-notch fa-spin\"></i>\n            <span className=\"ms-2\">Deleting</span>\n          </button>\n        </div>\n      );\n    }\n\n    if (deleConfirm) {\n      return (\n        <div>\n          <button type=\"button\" className=\"btn btn-sm btn-outline-danger\" onClick={onClick_deleExec}>\n            <span>Sure to delete?</span>\n          </button>\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <button type=\"button\" className=\"btn btn-sm btn-link\" onClick={onClick_edit}>Edit</button>\n        <button type=\"button\" className=\"btn btn-sm btn-link text-muted\" onClick={onClick_deleOpen}>Delete</button>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"marking-show\">\n      <div className=\"MyMark\">\n        <div className=\"d-flex justify-content-between align-items-center headBar\">\n          <b>My Mark</b>\n          <EditBtnDom />\n        </div>\n        <div className=\"mt-1\">My status: {_confs_martus[martus].text}</div>\n        <div className=\"mt-1\">My rating: {score ? `(${score}) ${_confs_scores[score].text}` : '[N/A]'}</div>\n        <div className=\"mt-1\" dangerouslySetInnerHTML={{ __html: Funcs.common.format_limit_html(_comment_in_html) }}></div>\n      </div>\n    </div>\n  );\n}\n\nexport default MarkShow;\n\n// <span className=\"d-none font-monospace\">({deleConfirm})</span>","/opt/w/app-marker/src/elements/marking.EditMark/MarkForm.js",["261"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\nimport Funcs from '../../funcs';\n\nimport EditArea from \"../common/EditArea\";\nimport EditToolBar from \"../common/EditToolBar\";\n\nconst _confs = window._ssconfs;\n\nfunction MarkForm(props) {\n\n  const editAreaDomId = `editArea_mark`;\n\n  const dispatch = useDispatch();\n\n  const { pageKey, formObj } = useSelector((state) => state.marking);\n  const { errorNo, posting, martus, score, comment } = formObj;\n\n  const {\n    docKind: _docKind\n  } = Funcs.common.info_from_pageKey(pageKey);\n  const _confs_martus = _confs.marking.martus[_docKind];\n  const _confs_scores = _confs.marking.scores;\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  const onClick_submit = function () {\n    if (!martus) {\n      dispatch(\n        Redux.actions.marking.set_form_errorNo(1001)\n      );\n      return;\n    }\n    const data = {\n      pageKey,\n      martus,\n      score,\n      comment,\n    };\n    dispatch(Redux.thunks.marking.upsertMark(data));\n  };\n\n  const onClick_cancel = function () {\n    dispatch(Redux.actions.marking.set_editing(false));\n  };\n\n  const onChange_EditArea = function (text) {\n    dispatch(Redux.actions.marking.set_form_comment(text));\n    if (errorNo) {\n      dispatch(Redux.actions.marking.set_form_errorNo(0));\n    }\n    window.resizeFrameHeight();\n  };\n\n  // const onChange_TextArea = function (event) {\n  //   dispatch(Redux.actions.marking.set_form_comment(event.target.value));\n  //   if (errorNo) {\n  //     dispatch(Redux.actions.marking.set_form_errorNo(0));\n  //   }\n  //   window.resizeFrameHeight();\n  // };\n\n  const onChange_martus = (evt) => {\n    dispatch(Redux.actions.marking.set_form_martus(evt.target.value));\n  };\n\n  const onChange_score = (evt) => {\n    dispatch(Redux.actions.marking.set_form_score(Number(evt.target.value)));\n  };\n\n\n  const SubmitButton = () => {\n    if (posting) {\n      return (\n        <button className=\"ms-auto btn btn-sm btn-primary submit\" disabled>\n          <i className=\"fas fa-circle-notch fa-spin\"></i>\n        </button>\n      );\n    }\n    return (\n      <button className=\"ms-auto btn btn-sm btn-primary submit\" onClick={onClick_submit}>Submit</button>\n    );\n  };\n\n  const EditError = () => {\n    if (!errorNo) return null;\n    switch (errorNo) {\n      case Confs.eno.LoginRequired:\n        return (\n          <div className=\"alert alert-danger error\">\n            It looks like you have not logged in yet?\n          </div>\n        );\n      default:\n        return (\n          <div className=\"alert alert-danger error\">\n            Unknown error, please try again.\n          </div>\n        );\n    }\n  };\n\n  const MyStatusDoms = [];\n  for (const [file, item] of Object.entries(_confs_martus)) {\n    MyStatusDoms.push((\n      <div key={file} className=\"form-check form-check-inline\">\n        <input className=\"form-check-input\" type=\"radio\" id={`martus_${file}`} name=\"martus\" value={file} checked={martus === file} onChange={onChange_martus} />\n        <label className=\"form-check-label\" htmlFor={`martus_${file}`}>{item.text}</label>\n      </div>\n    ));\n  }\n\n  const MyRatingDoms = [];\n  MyRatingDoms.push((\n    <div key={0} className=\"form-check form-check-inline\">\n      <input className=\"form-check-input\" type=\"radio\" id={`score_0`} name=\"score\" value={0} checked={score === 0} onChange={onChange_score} />\n      <label className=\"form-check-label\" htmlFor={`score_0`}>[N/A]</label>\n    </div>\n  ));\n  for (const [file, item] of Object.entries(_confs_scores)) {\n    const v_score = Number(file);\n    const v_title = item.text;\n    MyRatingDoms.push((\n      <div key={v_score} className=\"form-check form-check-inline\">\n        <input className=\"form-check-input\" type=\"radio\" id={`score_${v_score}`} name=\"score\" value={v_score} checked={v_score === score} onChange={onChange_score} />\n        <label className=\"form-check-label\" htmlFor={`score_${v_score}`}>({v_score}) {v_title}</label>\n      </div>\n    ));\n  }\n\n  return (\n    <div className=\"marking-form\">\n      <div className=\"editor\">\n        <div className=\"d-flex justify-content-between align-items-center headBar\">\n          <b>Marking</b>\n          <button className=\"ms-auto btn btn-sm btn-link cancel\" onClick={onClick_cancel}>Cancel</button>\n        </div>\n        <div className=\"mt-3\">My status</div>\n        <div>\n          {MyStatusDoms}\n        </div>\n        <div className=\"mt-3\">My rating <small className=\"text-muted\">(Optional)</small></div>\n        <div>\n          {MyRatingDoms}\n        </div>\n        <div className=\"mt-3\">My Comment <small className=\"text-muted\">(Optional)</small></div>\n        <EditArea domId={editAreaDomId} innerText={comment} onChange={onChange_EditArea} css=\"border-top\" />\n        <EditError />\n        <EditToolBar editAreaDomId={editAreaDomId} SubmitButton={SubmitButton} />\n      </div>\n    </div>\n  );\n}\n\nexport default MarkForm;\n","/opt/w/app-marker/src/elements/marking.MarkList/AppContainer.js",["262"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from '../../confs';\nimport Clock from \"../common/Clock\";\n\nimport LayoutHeader from \"./LayoutHeader\";\nimport LayoutMainer from \"./LayoutMainer\";\nimport LayoutFooter from \"./LayoutFooter\";\n\nfunction Rooter() {\n\n  const dispatch = useDispatch();\n  const { params, status, sortBy} = useSelector(state => state.marking);\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  useEffect(() => {\n    if (params === false) {\n      const params = window.get_url_params();\n      const sortBy = params.sortBy || window.localStorage.getItem(Confs.localStorageKeys.marking_sortBy);\n      if (sortBy) {\n        dispatch(Redux.actions.marking.set_sortBy(sortBy));\n      }\n      dispatch(Redux.actions.marking.set_params(params));\n    }\n  });\n\n  useEffect(() => {\n    if (params) {\n      if (status === 'initial') {\n        firstLoad();\n      }\n    }\n  });\n\n  const firstLoad = () => {\n    const date = {\n      sortBy,\n      ...params,\n    };\n    dispatch(Redux.thunks.marking.loadList(date));\n  };\n\n  switch (status) {\n    case 'initial':\n    case 'pending':\n      // loading icon\n      return (\n        <div className=\"d-flex justify-content-center align-items-center\">\n          <i className=\"fas fa-2x fa-circle-notch fa-spin\"></i>\n        </div>\n      );\n\n    case 'failure':\n      // refresh icon\n      return (\n        <div className=\"d-flex justify-content-center align-items-center cursor-pointer\" onClick={firstLoad}>\n          <i className=\"fas fa-2x fa-sync-alt\"></i>\n        </div>\n      );\n\n    case 'success':\n    default:\n      // nothing to do\n      break;\n  }\n\n  return (\n    <>\n      <LayoutHeader />\n      <LayoutMainer />\n      <LayoutFooter />\n      <Clock />\n    </>\n  );\n}\n\nexport default Rooter;\n","/opt/w/app-marker/src/redux/ssconfs.slicer.js",[],"/opt/w/app-marker/src/elements/marking.MarkList/MarkList.jsx",["263","264"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nimport SortByBar from \"./SortByBar\";\nimport MarkItem from \"./MarkItem\";\n\nfunction MarkList(props) {\n\n  const dispatch = useDispatch();\n\n  const { params, sortBy, markLis: { loadStatus, markOids, prevOid, prevPos } } = useSelector(state => state.marking);\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  useEffect(() => {\n    if (loadStatus === \"initial\") {\n      loadMoreAct();\n    }\n  });\n\n  const loadMoreAct = () => {\n    const data = {\n      sortBy,\n      ...params,\n      prevOid,\n      prevPos,\n    };\n    dispatch(Redux.thunks.marking.loadList(data));\n  };\n\n  const LoadMoreDom = () => {\n    let BtnDom = null;\n    switch (loadStatus) {\n      case 'initial':\n        BtnDom = (\n          <button type=\"button\" className=\"btn btn-sm btn-secondary\" onClick={() => loadMoreAct()}>Start Load</button>\n        );\n        break;\n      case 'success':\n        BtnDom = (\n          <button type=\"button\" className=\"btn btn-sm btn-secondary\" onClick={() => loadMoreAct()}>Load More</button>\n        );\n        break;\n      case 'failure':\n        BtnDom = (\n          <button type=\"button\" className=\"btn btn-sm btn-secondary\" onClick={() => loadMoreAct()}>Try Again</button>\n        );\n        break;\n      case 'pending':\n        BtnDom = (\n          <button type=\"button\" className=\"btn btn-sm btn-secondary disabled\">\n            <i className=\"fas fa-circle-notch fa-spin\"></i>\n          </button>\n        );\n        break;\n      case 'no_more':\n        if (markOids?.length) {\n          BtnDom = (\n            <button type=\"button\" className=\"btn btn-sm btn-light disabled\">No More</button>\n          );\n        } else {\n          BtnDom = (\n            <button type=\"button\" className=\"btn btn-sm btn-light disabled\">Be the first to make mark.</button>\n          );\n        }\n        break;\n      default:\n        break;\n    }\n    if (BtnDom) {\n      return (\n        <div className=\"d-grid load-more\">\n          {BtnDom}\n        </div>\n      );\n    }\n    return null;\n  };\n\n  const itemList_to_DomList = markOids?.map((markOid) => (\n    <MarkItem key={markOid} markOid={markOid} />\n  ));\n\n  return (\n    <div className=\"d-grid gap-3 marking-list\">\n      {Boolean(params.showSortByBar) &&\n        <SortByBar />\n      }\n      {itemList_to_DomList}\n      { loadStatus === 'failure' &&\n        <div className=\"alert alert-danger\">\n          An exception was encountered while loading the list.\n        </div>\n      }\n      <LoadMoreDom />\n    </div>\n  );\n}\n\nexport default MarkList;\n","/opt/w/app-marker/src/elements/marking.MarkList/MarkItem.js",["265","266","267","268","269","270"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\nimport Funcs from \"../../funcs\";\n\nimport TimeAgo from \"../common/TimeAgo\";\nimport RateStar from \"../common/RateStars\";\nimport LikeAndHate from \"./LikeAndHate\";\nimport RelaTitle from \"./RelaTitle\";\n\nconst _confs = window._ssconfs;\n\nfunction MarkItem(props) {\n  const { markOid } = props;\n  const dispatch = useDispatch();\n\n  const { userIid, userKvs } = useSelector(state => state.users);\n  const { markKvs, relaKvs } = useSelector(state => state.marking);\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  const markDoc = markKvs?.[markOid];\n  const mkerIid = markDoc?.userIid;\n  const mkerDoc = userKvs?.[mkerIid];\n\n  if (!markDoc) {\n    return null;\n  }\n\n  const { _docKind } = markDoc;\n  const _confs_martus = _confs.marking.martus[_docKind];\n\n  return (\n    <div className=\"marking-item\">\n\n      <RelaTitle markOid={markOid} />\n\n      <div className=\"mt-2 d-flex justify-content-start align-items-center marking-head\">\n        <a href={mkerDoc._https_btoto} target=\"_blank\" rel=\"noreferrer\">\n          <img className=\"avatar\" src={mkerDoc._https_avatar} alt=\"\" />\n        </a>\n        <div className=\"ms-2\">\n          <div>\n            <a href={mkerDoc._https_btoto} target=\"_blank\" rel='noreferrer'>\n              {mkerDoc.info.name}\n            </a>\n          </div>\n          <div className=\"d-flex\">\n            <div>{_confs_martus[markDoc.martus].text}</div>\n            {Boolean(markDoc.score) &&\n              <RateStar score={markDoc.score} css=\"ms-2\" />\n            }\n          </div>\n        </div>\n        <div className=\"ms-auto\">\n          <i className=\"d-none fas fa-ellipsis-v text-muted\"></i>\n        </div>\n      </div>\n\n      <div className=\"mt-2\">\n        <div className=\"limit-html\" dangerouslySetInnerHTML={{ __html: Funcs.common.format_limit_html(markDoc._comment_in_html) }}></div>\n      </div>\n\n      <div className=\"mt-2 d-flex justify-content-between align-items-center small text-muted\">\n        <TimeAgo time={markDoc.dateCreate} css=\"d-inline small text-muted\" />\n        <LikeAndHate markOid={markOid} />\n      </div>\n    </div>\n  );\n}\n\nexport default MarkItem;\n","/opt/w/app-marker/src/elements/marking.MarkList/LikeAndHate.jsx",["271"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction LikeAndHate(props) {\n  const { markOid } = props;\n\n  const [isVoteing, set_isVoteing] = useState(0);\n\n  const dispatch = useDispatch();\n  const { markKvs, voteKvs } = useSelector((state) => state.marking);\n  const markDoc = markKvs?.[markOid];\n  const voteVal = voteKvs?.[markOid];\n\n  const meLiked = voteVal === 1 ? true : false;\n  const meHated = voteVal === 2 ? true : false;\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  const onClick_vote = (type) => {\n    let voteVal = 0;\n    if (type === 'like' && meLiked === false) {\n      voteVal = 1;\n    }\n    if (type === 'hate' && meHated === false) {\n      voteVal = 2;\n    }\n\n    const data = {\n      markOid,\n      voteVal,\n    };\n    set_isVoteing(1);\n    Redux.networks.marking_voteMark(data)\n      .then((resp) => resp.json())\n      .then((json) => {\n\n        const {\n          markOid,\n          voteVal,\n          incLike,\n          incHate,\n        } = json.res;\n\n        dispatch(Redux.actions.marking.set_voteKvs({\n          markOid,\n          voteVal,\n        }));\n\n        dispatch(Redux.actions.marking.inc_mark_LikeAndHate({\n          markOid,\n          incLike,\n          incHate,\n        }));\n\n        set_isVoteing(0);\n      })\n      .catch((err) => {\n        console.log(err);\n        set_isVoteing(0);\n      });\n  };\n\n  const LikeBtnDom = () => {\n    return (\n      <span className={`cursor-pointer ${meLiked ? 'text-success' : ''}`} onClick={() => onClick_vote('like')}>\n        { markDoc.countLike > 0 &&\n          <small className=\"me-1 d-inline-block\">{markDoc.countLike}</small>\n        }\n        <i className=\"fas fa-chevron-up\"></i>\n      </span>\n    );\n  };\n\n  const HateBtnDom = () => {\n    return (\n      <span className={`cursor-pointer ${meHated ? 'text-danger' : ''}`} onClick={() => onClick_vote('hate')}>\n        <i className=\"fas fa-chevron-down\"></i>\n        { markDoc.countHate > 0 &&\n          <small className=\"ms-1 d-inline-block\">{markDoc.countHate}</small>\n        }\n      </span>\n    );\n  };\n\n  const LikeAndHateBtnsDom = () => {\n    if (isVoteing) {\n      return (<i className=\"fas fa-circle-notch fa-spin\"></i>);\n    }\n    return (\n      <>\n        <LikeBtnDom />\n        <small className=\"mx-2\">|</small>\n        <HateBtnDom />\n      </>\n    );\n  };\n\n  return (\n    <div className=\"d-flex align-items-center marking-vote\">\n      <LikeAndHateBtnsDom />\n    </div>\n  );\n}\n\nexport default LikeAndHate;","/opt/w/app-marker/src/elements/common/RateStars.js",["272","273","274","275","276","277"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction ScoreStars(props) {\n\n  // score => 0 ~ 10\n  const { score, css } = props;\n\n  const percent = score / 10 * 100;\n\n  return (\n    <div className={`rate-star ${css}`}>\n      <span className=\"base\">\n        <i className=\"fas fa-fw fa-star\"></i>\n        <i className=\"fas fa-fw fa-star\"></i>\n        <i className=\"fas fa-fw fa-star\"></i>\n        <i className=\"fas fa-fw fa-star\"></i>\n        <i className=\"fas fa-fw fa-star\"></i>\n      </span>\n      <div className=\"mask\" style={{ width: `${percent}%`, }}>\n        <span className=\"face\">\n          <i className=\"fas fa-fw fa-star\"></i>\n          <i className=\"fas fa-fw fa-star\"></i>\n          <i className=\"fas fa-fw fa-star\"></i>\n          <i className=\"fas fa-fw fa-star\"></i>\n          <i className=\"fas fa-fw fa-star\"></i>\n        </span>\n      </div>\n    </div>\n  );\n}\n\nexport default ScoreStars;","/opt/w/app-marker/src/elements/common/EditToolBar.js",["278","279","280","281","282","283"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction EditToolBar(props) {\n\n  const { editAreaDomId, SubmitButton } = props;\n\n  const btns = {\n    b: \"fa-bold\",\n    i: \"fa-italic\",\n    u: \"fa-underline\",\n    s: \"fa-strikethrough\",\n    a: \"fa-link\",\n    spoiler: \"fa-eye-slash\",\n    code: \"fa-code\",\n    blockquote: \"fa-quote-left\",\n    hr: \"fa-arrows-alt-h\",\n  };\n\n  const btnsDomArray = Object.entries(btns).map(([key, val]) => (\n    <button\n      key={key}\n      type=\"button\"\n      className=\"btn btn-sm btn-light\"\n      onClick={() => onClick_toolBtn(editAreaDomId, key)}\n    >\n      <span className={`fas fa-fw ${val}`}></span>\n    </button>\n  ));\n\n  return (\n    <div className=\"toolBar\">\n      <div className=\"btn-group-wrapper\">\n        <div className=\"btn-group\">\n          <button\n            key=\"img\"\n            type=\"button\"\n            className=\"d-none btn btn-sm btn-light\"\n            onClick={() => onClick_toolBtn(editAreaDomId, \"img\")}\n          >\n            <span className=\"fas fa-fw fa-image\"></span>\n          </button>\n          {btnsDomArray}\n        </div>\n      </div>\n      <SubmitButton />\n    </div>\n  );\n}\n\nexport default EditToolBar;\n\n\nconst onClick_toolBtn = function (EditArea_domId, code) {\n  //console.log(`onClick_toolBtn: ${code}`);\n\n  const o_box = document.getElementById(EditArea_domId);\n  const o_par = window.getSelectionParentElement();\n  if (o_par && o_par.getAttribute(\"id\") === EditArea_domId) {\n    // console.log(\"selected\");\n  } else {\n    // console.log(\"setEndOfContenteditable\");\n    window.setEndOfContenteditable(o_box.firstChild || o_box);\n  }\n\n  const o_sel = window.getSelection();\n  const sel_txt = o_sel.toString() || \"\";\n  // console.log(\"sel_txt:\", sel_txt);\n\n  let tag_l = \"\";\n  let tag_r = \"\";\n  switch (code) {\n    case \"b\":\n    case \"i\":\n    case \"u\":\n    case \"s\":\n    case \"spoiler\":\n    case \"code\":\n    case \"blockquote\": {\n      tag_l = `<${code}>`;\n      tag_r = `</${code}>`;\n      break;\n    }\n    case \"a\": {\n      tag_l = '<a href=\"#\">';\n      tag_r = \"</a>\";\n      break;\n    }\n    case \"img\": {\n      tag_l = '<img src=\"#\"/>';\n      tag_r = \"\";\n      break;\n    }\n    case \"hr\": {\n      tag_l = `<hr/>`;\n      tag_r = \"\";\n      break;\n    }\n    default:\n      return;\n  }\n\n  let insertText = \"\";\n  let length_add = 0;\n\n  if (\n    (tag_l === \"\" || sel_txt.startsWith(tag_l)) &&\n    (tag_r === \"\" || sel_txt.endsWith(tag_r))\n  ) {\n    insertText = sel_txt.substr(\n      tag_l.length,\n      sel_txt.length - tag_l.length - tag_r.length\n    );\n    length_add = -(tag_l.length + tag_r.length);\n  } else {\n    insertText = `${tag_l}${sel_txt}${tag_r}`;\n    length_add = tag_l.length + tag_r.length;\n  }\n\n  const new_sta = o_sel.getRangeAt(0).startOffset;\n  const new_end = o_sel.getRangeAt(0).endOffset + length_add;\n\n  document.execCommand(\"insertText\", false, insertText);\n\n  const o_txt = o_box.firstChild || o_box;\n  const new_range = document.createRange();\n  new_range.setStart(o_txt, new_sta);\n  new_range.setEnd(o_txt, new_end);\n  o_sel.removeAllRanges();\n  o_sel.addRange(new_range);\n\n  o_box.focus();\n};\n","/opt/w/app-marker/src/elements/common/EditErrors.js",["284","285","286","287","288"],"/opt/w/app-marker/src/funcs/index.js",[],"/opt/w/app-marker/src/funcs/common.func.js",[],"/opt/w/app-marker/src/elements/marking.MarkList/LayoutMainer.js",["289","290","291","292","293"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\n\n\nimport MarkList from \"./MarkList\";\nfunction Mainer() {\n\n  useEffect(() => {\n    window.resizeFrameHeight();\n  });\n\n  return (\n    <div className=\"Mainer\">\n      <div className=\"w-100\">\n        <MarkList />\n      </div>\n    </div>\n  );\n}\n\nexport default Mainer;\n","/opt/w/app-marker/src/elements/marking.MarkList/LayoutHeader.js",["294","295","296","297","298","299"],"/opt/w/app-marker/src/elements/marking.MarkList/LayoutFooter.js",["300","301","302","303","304","305"],"/opt/w/app-marker/src/elements/marking.MarkList/SortByBar.jsx",["306","307"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction SortByBar() {\n\n  const dispatch = useDispatch();\n\n  const { pageDoc, sortBy } = useSelector(state => state.marking);\n\n  const PageInfoDom = () => {\n    if (!pageDoc) {\n      return (\n        <span></span>\n      );\n    }\n    const unit_t = pageDoc.countChild > 1 ? 'topics' : 'topic';\n    const unit_p = pageDoc.countReply > 1 ? 'posts' : 'post';\n    return (\n      <div>\n        <span>{pageDoc.countChild} {unit_t}</span>\n        <span className=\"ms-2\">{pageDoc.countReply} {unit_p}</span>\n      </div>\n    );\n  };\n\n  const onClick_sortBy = (type) => {\n    window.localStorage.setItem(Confs.localStorageKeys.marking_sortBy, sortBy);\n    dispatch(Redux.actions.marking.set_sortBy(type));\n  };\n\n  const SortBtnDom = (props) => {\n    const { type } = props;\n    const type_to_text = Confs.marking.sortTypes;\n    if (type === sortBy) {\n      return (\n        <button type=\"button\" className=\"btn btn-sm btn-link ml-2 cursor-normal\">{type_to_text[type]}</button>\n      );\n    }\n    return (\n      <button type=\"button\" className=\"btn btn-sm btn-link ml-2 text-decoration-none text-muted\" onClick={() => onClick_sortBy(type)}>{type_to_text[type]}</button>\n    );\n  };\n\n  return (\n    <div className=\"d-flex justify-content-between align-items-center\">\n      <PageInfoDom />\n      <div>\n        <SortBtnDom type=\"hot\" />\n        <SortBtnDom type=\"new\" />\n        <SortBtnDom type=\"old\" />\n      </div>\n    </div>\n  );\n}\n\nexport default SortByBar;","/opt/w/app-marker/src/elements/marking.MarkList/RelaTitle.js",["308","309","310","311","312"],"import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Redux from \"../../redux\";\nimport Confs from \"../../confs\";\n\nfunction RelaTitle(props) {\n\n  const { markOid } = props;\n  const { markKvs, relaKvs } = useSelector(state => state.marking);\n  const markDoc = markKvs?.[markOid];\n\n\n  if (!markDoc) {\n    return null;\n  }\n  const relaDoc = relaKvs[markDoc.pageKey];\n\n  if (!relaDoc) {\n    return null;\n  }\n\n  return (\n    <a className=\"btn btn-sm btn-dark\" href={relaDoc._https_btoto} target=\"_blank\" rel=\"noreferrer\">\n      <i className=\"fas fa-book\"></i>\n      <span className=\"ms-2\">{relaDoc.info.title}</span>\n    </a>\n  );\n}\n\nexport default RelaTitle;",{"ruleId":"313","replacedBy":"314"},{"ruleId":"315","replacedBy":"316"},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":7,"column":8,"nodeType":"319","messageId":"320","endLine":7,"endColumn":13},{"ruleId":"317","severity":1,"message":"326","line":174,"column":15,"nodeType":"319","messageId":"320","endLine":174,"endColumn":20},{"ruleId":"317","severity":1,"message":"327","line":174,"column":22,"nodeType":"319","messageId":"320","endLine":174,"endColumn":25},{"ruleId":"317","severity":1,"message":"328","line":174,"column":27,"nodeType":"319","messageId":"320","endLine":174,"endColumn":30},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"329","severity":1,"message":"330","line":17,"column":6,"nodeType":"331","endLine":17,"endColumn":25,"suggestions":"332"},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"333","line":8,"column":23,"nodeType":"319","messageId":"320","endLine":8,"endColumn":33},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"334","line":11,"column":9,"nodeType":"319","messageId":"320","endLine":11,"endColumn":17},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"334","line":16,"column":9,"nodeType":"319","messageId":"320","endLine":16,"endColumn":17},{"ruleId":"317","severity":1,"message":"335","line":18,"column":11,"nodeType":"319","messageId":"320","endLine":18,"endColumn":18},{"ruleId":"317","severity":1,"message":"336","line":19,"column":20,"nodeType":"319","messageId":"320","endLine":19,"endColumn":27},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"323","line":2,"column":10,"nodeType":"319","messageId":"320","endLine":2,"endColumn":21},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"318","line":1,"column":17,"nodeType":"319","messageId":"320","endLine":1,"endColumn":25},{"ruleId":"317","severity":1,"message":"322","line":1,"column":27,"nodeType":"319","messageId":"320","endLine":1,"endColumn":36},{"ruleId":"317","severity":1,"message":"324","line":2,"column":23,"nodeType":"319","messageId":"320","endLine":2,"endColumn":34},{"ruleId":"317","severity":1,"message":"325","line":3,"column":8,"nodeType":"319","messageId":"320","endLine":3,"endColumn":13},{"ruleId":"317","severity":1,"message":"321","line":4,"column":8,"nodeType":"319","messageId":"320","endLine":4,"endColumn":13},"no-native-reassign",["337"],"no-negated-in-lhs",["338"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Confs' is defined but never used.","'useEffect' is defined but never used.","'useSelector' is defined but never used.","'useDispatch' is defined but never used.","'Redux' is defined but never used.","'error' is assigned a value but never used.","'eno' is assigned a value but never used.","'res' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'domId'. Either include it or remove the dependency array.","ArrayExpression",["339"],"'clientTime' is assigned a value but never used.","'dispatch' is assigned a value but never used.","'userIid' is assigned a value but never used.","'relaKvs' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"340","fix":"341"},"Update the dependencies array to be: [domId, inited, innerText]",{"range":"342","text":"343"},[467,486],"[domId, inited, innerText]"]